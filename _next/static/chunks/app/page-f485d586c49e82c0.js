(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3561:(e,t,r)=>{Promise.resolve().then(r.bind(r,7001))},7001:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(5155);let a=async e=>{try{let t=await fetch("https://api.jikan.moe/v4/anime/".concat(e,"/full"));if(404===t.status)return{success:!1,status:404,data:null};if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();return{success:!0,data:r.data}}catch(e){return console.error("Error fetching: ",e),{success:!1,data:null}}},s=async()=>{try{let e=await fetch("https://genshin.jmp.blue/characters");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();return{success:!0,data:t}}catch(e){return console.error("Error fetching: ",e),{success:!1,data:null}}};var l=r(2115);function c(e){let{onClose:t}=e,[r,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=setTimeout(()=>a(!0),10);return()=>clearTimeout(e)},[]),(0,n.jsx)("div",{className:"fixed top-16 right-4 z-50 transition-transform duration-500 ".concat(r?"translate-x-0":"translate-x-full"," w-80"),children:(0,n.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-lg border border-gray-200 p-4 pt-6",children:[(0,n.jsx)("button",{onClick:t,className:"absolute -top-2 -right-2 w-8 h-8 flex items-center justify-center rounded-full bg-white shadow hover:bg-gray-100 text-gray-500 hover:text-gray-700 transition",children:"✕"}),(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"text-blue-500 text-xl",children:"\uD83D\uDCA1"}),(0,n.jsxs)("div",{className:"text-gray-800 text-sm leading-relaxed",children:["C\xe1i n\xe0y t\xf4i l\xe0m ",(0,n.jsx)("span",{className:"font-semibold",children:"for fun"}),", v\xe0 tốt nhất th\xec bạn n\xean nhập b\xe0n ph\xedm m\xe1y t\xednh để chơi :)",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-gray-600",children:"Mấy c\xe1i n\xfat k\xed tự đặc biệt như :, . ` d\xf9ng đc đấy nh\xe9, nhưng t\xf4i lười show ra th\xf4i:)"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-gray-600",children:"V\xe0 nếu mấy \xf4 c\xf3 ph\xe0n n\xe0n về việc phải đợi qu\xe1 l\xe2u để đc chơi th\xec bro, t\xf4i bất khả kh\xe1ng với việc n\xe0y;-;"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-gray-600",children:"Về sau c\xf3 note g\xec th\xec t\xf4i sẽ note tiếp sau."})]})]})]})})}var i=r(2619),o=r.n(i);function d(e){var t;let{nameLength:r,titleAnime:a,urlAnime:s,character:c,characterNameLength:i}=e;console.log("InputAndShow props:",{nameLength:r,titleAnime:a,urlAnime:s,character:c,characterNameLength:i});let d=!!c,u=d?i:r,h=d?c:a,g=d?"#":s,m=null==(t=h||"")?void 0:t.toUpperCase(),[x,b]=(0,l.useState)([]),[p,f]=(0,l.useState)(0),[y,j]=(0,l.useState)([]),[v,w]=(0,l.useState)(!1),[N,k]=(0,l.useState)(!1),C=e=>{v||N||p>=6||b(t=>t.slice(p*u,(p+1)*u).length<u?[...t,e.toUpperCase()]:t)},S=()=>{v||N||p>=6||b(e=>{let t=p*u,r=(p+1)*u;return e.length>t&&e.length<=r?e.slice(0,-1):e})},E=()=>{if(v||N||p>=6)return;let e=x.slice(p*u,(p+1)*u);if(e.length===u){if(j(e=>[...e,p]),e.join("").toUpperCase()===m)return void w(!0);if(5===p)return void k(!0);f(e=>e+1)}};(0,l.useEffect)(()=>{let e=e=>{let t=e.key;/^[a-zA-Z0-9]$/.test(t)||[" ",",",".","-",":",";","'","!","@","#","$","%","^","&","*","(",")","?"].includes(t)?C(t):"Backspace"===t?S():"Enter"===t&&E()};return globalThis.addEventListener("keydown",e),()=>globalThis.removeEventListener("keydown",e)},[x,p,v,N,u]);let T=v||N;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-rows-6 gap-2 mb-4",children:[...Array(6)].map((e,t)=>(0,n.jsx)("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(".concat(u,", minmax(0, 1fr))")},children:[...Array(u)].map((e,r)=>{let a=t*u+r;return(0,n.jsx)("div",{className:"w-12 h-12 border-2 flex items-center justify-center text-xl font-bold uppercase rounded-lg ".concat(((e,t)=>{var r;let n=e*u+t,a=null==(r=x[n])?void 0:r.toUpperCase();return e!==p||y.includes(e)||x.length!==n?a&&y.includes(e)?m[t]===a?"bg-green-500 border-green-600 text-white":m.includes(a)?"bg-yellow-400 border-yellow-500 text-white":"bg-gray-200 border-gray-300 text-gray-700":"bg-white border-gray-300":"border-2 border-blue-500 animate-pulse"})(t,r)),children:x[a]||""},r)})},t))}),v&&(0,n.jsxs)("div",{className:"mb-4 px-4 py-2 rounded-lg bg-green-100 text-green-800 font-semibold",children:["\uD83C\uDF89 Chuẩn rồi! Bạn đo\xe1n đ\xfang:"," ",(0,n.jsx)(o(),{href:g,target:"_blank",rel:"noopener noreferrer",className:"underline",children:h})]}),N&&!v&&(0,n.jsxs)("div",{className:"mb-4 px-4 py-2 rounded-lg bg-red-100 text-red-800 font-semibold",children:["\uD83D\uDE35 Hết lượt! Đ\xe1p \xe1n l\xe0:"," ",(0,n.jsx)(o(),{href:g,target:"_blank",rel:"noopener noreferrer",className:"underline",children:h})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 mb-8",children:[(0,n.jsx)("div",{className:"flex justify-center gap-2",children:"1234567890".split("").map(e=>(0,n.jsx)("button",{onClick:()=>C(e),disabled:T,className:"px-4 py-3 rounded-lg text-base font-bold uppercase cursor-pointer border-none ".concat(T?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-300"),children:e},e))}),["QWERTYUIOP","ASDFGHJKL","ZXCVBNM"].map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-center gap-2",children:[e.split("").map(e=>(0,n.jsx)("button",{onClick:()=>C(e),disabled:T,className:"px-4 py-3 rounded-lg text-base font-bold uppercase cursor-pointer border-none ".concat(T?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-300"),children:e},e)),2===t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:S,disabled:T,className:"px-4 py-3 rounded-lg text-base font-bold uppercase border-none ".concat(T?"bg-red-200 text-white/60 cursor-not-allowed":"bg-red-400 text-white"),children:"⌫"}),(0,n.jsx)("button",{onClick:E,disabled:T,className:"px-4 py-3 rounded-lg text-base font-bold uppercase border-none ".concat(T?"bg-green-200 text-white/60 cursor-not-allowed":"bg-green-500 text-white"),children:"Enter"})]})]},t))]})]})}function u(e){var t;let{switchMode:r,setSwitchMode:a,dataAnime:s,successData:l,successDataGenshin:c,character:i,characterNameLength:o}=e;console.log("render");let u=(null==s?void 0:s.title)?null==s?void 0:s.title.length:0,h=(null==s?void 0:s.title)||"",g=(null==s?void 0:s.url)||"";return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col items-center min-h-screen bg-gray-100",children:[(0,n.jsx)("header",{className:" text-[25px] font-bold tracking-widest",children:"Wordle"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 mb-2",children:[(0,n.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{a(!0),console.log("Switched to Genshin mode")},children:"Switch to Genshin"}),(0,n.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>a(!1),children:"Switch to Anime"})]}),l||c?(0,n.jsxs)("h1",{className:"mb-2",children:["Đ\xe3 c\xf3 ",r?"nh\xe2n vật Genshin":"bộ Anime"," m\xe0 c\xf3 mơ bạn cũng kh\xf4ng đo\xe1n được:)"]}):(0,n.jsxs)("h1",{className:"mb-2",children:["Chưa t\xecm đc ",r?"nh\xe2n vật Genshin":"bộ Anime"," n\xe0o đủ kh\xf3 với bạn ;-;"]}),(0,n.jsxs)("p",{className:"mb-4 text-lg text-gray-700",children:["T\xean ",r?"nh\xe2n vật":"bộ"," n\xe0y gồm(đ\xe3 bao gồm cả c\xe1c dấu kh\xf4ng ngờ đến):"," ",r?o:null==s||null==(t=s.title)?void 0:t.length]}),r?c&&(0,n.jsx)(d,{nameLength:0,titleAnime:null,urlAnime:null,character:i,characterNameLength:o}):l&&(0,n.jsx)(d,{nameLength:u,titleAnime:h,urlAnime:g,character:null,characterNameLength:0})]})})}function h(){let[e,t]=(0,l.useState)(null),[r,i]=(0,l.useState)([]),[o,d]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),[b,p]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),[j,v]=(0,l.useState)([]),[w,N]=(0,l.useState)(null),[k,C]=(0,l.useState)(0);return(0,l.useEffect)(()=>{t(Math.floor(5e4*Math.random())+1)},[]),(0,l.useEffect)(()=>{if(!e||f)return;let r=!0,n=async e=>{console.log("Fetching anime with ID:",e);let n=await a(e);r&&(n.success?(console.log("Detail information anime character:",n.data),i(n.data),d(!0)):404===n.status&&t(Math.floor(5e4*Math.random())+1))};return e&&setTimeout(()=>{n(e)},400),()=>{r=!1}},[e,f]),(0,l.useEffect)(()=>{console.log("Changed switch mode:",f)},[f]),(0,l.useEffect)(()=>{!f&&o&&r&&(r.aired.prop.from.year<2e3||"TV"!=r.type||r.members<5e3||r.title.length>=20?setTimeout(()=>{t(Math.floor(5e4*Math.random())+1),d(!1)},400):g(!0))},[o,r,f]),(0,l.useEffect)(()=>{if(f&&!m){let e=setTimeout(async()=>{try{let e=await s();if(e.success){v(e.data),x(!0);let t=e.data.length,r=Math.floor(Math.random()*t),n=e.data[r];N(n||""),C(n?n.length:0)}}catch(e){console.error("Fetch Genshin character failed:",e)}},400);return()=>clearTimeout(e)}},[f,m,v,x]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{switchMode:f,setSwitchMode:y,dataAnime:r,dataCharacterGenshin:j,successData:h,successDataGenshin:m,character:w,characterNameLength:k}),(0,n.jsx)("button",{onClick:()=>{p(!0)},className:" h-10 w-10 border border-black rounded-full fixed top-4 right-4 bg-white hover:bg-gray-200 transition",children:"?"}),b&&(0,n.jsx)(c,{onClose:()=>p(!1)})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=3561)),_N_E=e.O()}]);